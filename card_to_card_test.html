<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Øª Ø¨Ø®Ø´ Ú©Ø§Ø±Øª Ø¨Ù‡ Ú©Ø§Ø±Øª</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; direction: rtl; background: #f0f2f5; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        
        .irr-amount-section { background: #e8f5e8; padding: 20px; border-radius: 10px; margin: 20px 0; }
        .amount-label { font-weight: bold; color: #2c5530; margin-bottom: 10px; }
        .irr-amount-display { font-size: 24px; font-weight: bold; color: #1565c0; margin: 10px 0; }
        #irr-amount { background: #fff; padding: 10px 15px; border-radius: 5px; display: inline-block; }
        .currency { margin-right: 10px; font-size: 18px; }
        
        .card-info-grid { margin: 20px 0; }
        .card-info-item { margin: 15px 0; padding: 10px; background: #f8f9fa; border-radius: 8px; }
        .card-number-display { display: flex; align-items: center; gap: 10px; margin-top: 5px; }
        #card-number { background: #fff; padding: 8px 12px; border-radius: 5px; font-family: 'Courier New', monospace; flex: 1; }
        
        .copy-btn { background: #007bff; color: white; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer; transition: all 0.3s; }
        .copy-btn:hover { background: #0056b3; transform: translateY(-1px); }
        .copy-btn.small { padding: 8px 12px; font-size: 14px; }
        
        .test-info { background: #fff3cd; padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #ffc107; }
        .debug-section { background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 20px 0; font-family: 'Courier New', monospace; font-size: 12px; }
        .success { background-color: #28a745 !important; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª ØªØ³Øª Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ø®Ø´ Ú©Ø§Ø±Øª Ø¨Ù‡ Ú©Ø§Ø±Øª</h1>
        
        <div class="test-info">
            <strong>ğŸ“‹ Ø§ÛŒÙ† ØªØ³Øª Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ù‚ÛŒÙ‚ Ø¨Ø®Ø´ Ú©Ø§Ø±Øª Ø¨Ù‡ Ú©Ø§Ø±Øª Ø§Ø³Øª:</strong><br>
            - Ù…Ø¨Ù„Øº: 2,986,500 ØªÙˆÙ…Ø§Ù†<br>
            - Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª: 6037-9918-1234-5678<br>
            Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ù¾ÛŒ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ Ùˆ Ø¯Ø± notepad paste Ú©Ù†ÛŒØ¯.
        </div>

        <!-- Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ù‚ÛŒÙ‚ Ø¨Ø®Ø´ Ú©Ø§Ø±Øª Ø¨Ù‡ Ú©Ø§Ø±Øª -->
        <div class="irr-amount-section">
            <div class="amount-label">Ù…Ø¨Ù„Øº Ù‚Ø§Ø¨Ù„ Ù¾Ø±Ø¯Ø§Ø®Øª:</div>
            <div class="irr-amount-display">
                <span id="irr-amount">2,986,500</span>
                <span class="currency">ØªÙˆÙ…Ø§Ù†</span>
            </div>
            <div style="margin: 10px 0; font-size: 14px; color: #666;">
                Ù…Ø¹Ø§Ø¯Ù„ $<span id="usd-amount">25.50</span>
            </div>
            <button class="copy-btn" id="copy-irr-amount" onclick="copyIRRAmount()" type="button" title="Ú©Ù¾ÛŒ Ù…Ø¨Ù„Øº ØªÙˆÙ…Ø§Ù†">
                <i class="fas fa-copy"></i>
                Ú©Ù¾ÛŒ Ù…Ø¨Ù„Øº
            </button>
        </div>

        <div style="background: #f0f8ff; padding: 20px; border-radius: 10px; margin: 20px 0;">
            <h4><i class="fas fa-credit-card"></i> Ù…Ø´Ø®ØµØ§Øª Ú©Ø§Ø±Øª Ù…Ù‚ØµØ¯:</h4>
            
            <div class="card-info-grid">
                <div class="card-info-item">
                    <label><strong>Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª:</strong></label>
                    <div class="card-number-display">
                        <span id="card-number">6037-9918-1234-5678</span>
                        <button class="copy-btn small" onclick="copyCardNumber()" type="button" title="Ú©Ù¾ÛŒ Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª">
                            <i class="fas fa-copy"></i>
                            Ú©Ù¾ÛŒ
                        </button>
                    </div>
                </div>
                
                <div class="card-info-item">
                    <label><strong>Ø¨Ø§Ù†Ú©:</strong></label>
                    <span style="margin-right: 10px;">Ø¨Ø§Ù†Ú© Ú©Ø´Ø§ÙˆØ±Ø²ÛŒ</span>
                </div>
                
                <div class="card-info-item">
                    <label><strong>ØµØ§Ø­Ø¨ Ø­Ø³Ø§Ø¨:</strong></label>
                    <span style="margin-right: 10px;">Ø§Ø­Ù…Ø¯ Ø§Ø­Ù…Ø¯ÛŒ</span>
                </div>
            </div>
        </div>

        <div class="debug-section">
            <strong>ğŸ” Debug Console:</strong><br>
            <div id="debug-log">F12 Ú©Ù†ÛŒØ¯ Ùˆ console tab Ø±Ø§ Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯...</div>
        </div>
    </div>

    <script>
        // ØªØ§Ø¨Ø¹ copyIRRAmount - Ú©Ù¾ÛŒ Ø¯Ù‚ÛŒÙ‚ Ø§Ø² checkout.html
        function copyIRRAmount() {
            try {
                console.log('=== copyIRRAmount Ø´Ø±ÙˆØ¹ ===');
                
                // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø¹Ù†ØµØ± Ù…Ø¨Ù„Øº
                const amountElement = document.querySelector('#irr-amount') || document.getElementById('irr-amount');
                console.log('Ø¹Ù†ØµØ± Ù…Ø¨Ù„Øº ÛŒØ§ÙØª Ø´Ø¯:', !!amountElement);
                
                if (!amountElement) {
                    alert('âŒ Ø¹Ù†ØµØ± Ù…Ø¨Ù„Øº ÛŒØ§ÙØª Ù†Ø´Ø¯');
                    return;
                }
                
                // Ú¯Ø±ÙØªÙ† Ù…ØªÙ†
                const originalText = amountElement.textContent || amountElement.innerText || '';
                console.log('Ù…ØªÙ† Ø§ØµÙ„ÛŒ:', originalText);
                
                if (!originalText.trim()) {
                    alert('âŒ Ù…Ø¨Ù„Øº Ø®Ø§Ù„ÛŒ Ø§Ø³Øª');
                    return;
                }

                // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡ Ú†ÛŒØ² Ø¨Ù‡ Ø¬Ø² Ø§Ø¹Ø¯Ø§Ø¯
                const cleanAmount = originalText.replace(/[^0-9]/g, '');
                console.log('Ù…Ø¨Ù„Øº Ù¾Ø§Ú© Ø´Ø¯Ù‡:', cleanAmount);
                
                if (!cleanAmount) {
                    alert('âŒ Ù…Ø¨Ù„Øº Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³Øª');
                    return;
                }
                
                // Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù†
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    console.log('Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² clipboard API Ù…Ø¯Ø±Ù†');
                    navigator.clipboard.writeText(cleanAmount)
                        .then(() => {
                            console.log('âœ… Ú©Ù¾ÛŒ Ù…ÙˆÙÙ‚');
                            alert(`âœ… Ù…Ø¨Ù„Øº Ú©Ù¾ÛŒ Ø´Ø¯: ${cleanAmount} ØªÙˆÙ…Ø§Ù†`);
                            showSuccess('#copy-irr-amount');
                        })
                        .catch((error) => {
                            console.log('âŒ Ø®Ø·Ø§ Ø¯Ø± clipboardØŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² fallback:', error);
                            fallbackCopy(cleanAmount, 'Ù…Ø¨Ù„Øº');
                        });
                } else {
                    console.log('Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø±ÙˆØ´ fallback');
                    fallbackCopy(cleanAmount, 'Ù…Ø¨Ù„Øº');
                }
                
            } catch (error) {
                console.error('Ø®Ø·Ø§ Ø¯Ø± copyIRRAmount:', error);
                alert('âŒ Ø®Ø·Ø§: ' + error.message);
            }
        }

        // ØªØ§Ø¨Ø¹ copyCardNumber - Ú©Ù¾ÛŒ Ø¯Ù‚ÛŒÙ‚ Ø§Ø² checkout.html  
        function copyCardNumber() {
            try {
                console.log('=== copyCardNumber Ø´Ø±ÙˆØ¹ ===');
                
                // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø¹Ù†ØµØ± Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª
                const cardElement = document.querySelector('#card-number') || document.getElementById('card-number');
                console.log('Ø¹Ù†ØµØ± Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª ÛŒØ§ÙØª Ø´Ø¯:', !!cardElement);
                
                if (!cardElement) {
                    alert('âŒ Ø¹Ù†ØµØ± Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª ÛŒØ§ÙØª Ù†Ø´Ø¯');
                    return;
                }
                
                // Ú¯Ø±ÙØªÙ† Ù…ØªÙ†
                const originalCard = cardElement.textContent || cardElement.innerText || '';
                console.log('Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª Ø§ØµÙ„ÛŒ:', originalCard);
                
                if (!originalCard.trim()) {
                    alert('âŒ Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª Ø®Ø§Ù„ÛŒ Ø§Ø³Øª');
                    return;
                }

                // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ø®Ø· ØªÛŒØ±Ù‡ Ùˆ ÙØ§ØµÙ„Ù‡â€ŒÙ‡Ø§
                const cleanCard = originalCard.replace(/[^0-9]/g, '');
                console.log('Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª Ù¾Ø§Ú© Ø´Ø¯Ù‡:', cleanCard);
                
                if (!cleanCard || cleanCard.length < 13) {
                    alert('âŒ Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³Øª');
                    return;
                }
                
                // Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù†
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    console.log('Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² clipboard API Ù…Ø¯Ø±Ù†');
                    navigator.clipboard.writeText(cleanCard)
                        .then(() => {
                            console.log('âœ… Ú©Ù¾ÛŒ Ù…ÙˆÙÙ‚');
                            alert(`âœ… Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª Ú©Ù¾ÛŒ Ø´Ø¯: ${cleanCard}`);
                            showSuccess('button[onclick="copyCardNumber()"]');
                        })
                        .catch((error) => {
                            console.log('âŒ Ø®Ø·Ø§ Ø¯Ø± clipboardØŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² fallback:', error);
                            fallbackCopy(cleanCard, 'Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª');
                        });
                } else {
                    console.log('Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø±ÙˆØ´ fallback');
                    fallbackCopy(cleanCard, 'Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª');
                }
                
            } catch (error) {
                console.error('Ø®Ø·Ø§ Ø¯Ø± copyCardNumber:', error);
                alert('âŒ Ø®Ø·Ø§: ' + error.message);
            }
        }

        // ØªØ§Ø¨Ø¹ fallback Ø¨Ø±Ø§ÛŒ Ú©Ù¾ÛŒ
        function fallbackCopy(text, type) {
            try {
                const textarea = document.createElement('textarea');
                textarea.value = text;
                textarea.style.position = 'absolute';
                textarea.style.left = '-9999px';
                textarea.style.top = '-9999px';
                
                document.body.appendChild(textarea);
                textarea.select();
                textarea.setSelectionRange(0, 99999);
                
                const success = document.execCommand('copy');
                document.body.removeChild(textarea);
                
                if (success) {
                    console.log('âœ… Fallback Ú©Ù¾ÛŒ Ù…ÙˆÙÙ‚');
                    alert(`âœ… ${type} Ú©Ù¾ÛŒ Ø´Ø¯: ${text}`);
                } else {
                    console.log('âŒ Fallback Ú©Ù¾ÛŒ Ù†Ø§Ù…ÙˆÙÙ‚');
                    alert(`âŒ Ø®Ø·Ø§ Ø¯Ø± Ú©Ù¾ÛŒ ${type}: ${text}`);
                }
            } catch (error) {
                console.error('Ø®Ø·Ø§ Ø¯Ø± fallback:', error);
                alert(`âŒ Ø®Ø·Ø§ Ø¯Ø± Ú©Ù¾ÛŒ ${type}: ${text}`);
            }
        }

        // Ù†Ù…Ø§ÛŒØ´ Ù…ÙˆÙÙ‚ÛŒØª Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡
        function showSuccess(selector) {
            try {
                const btn = document.querySelector(selector);
                if (btn) {
                    const original = btn.innerHTML;
                    btn.innerHTML = 'âœ… Ú©Ù¾ÛŒ Ø´Ø¯';
                    btn.style.backgroundColor = '#28a745';
                    btn.style.color = 'white';
                    
                    setTimeout(() => {
                        btn.innerHTML = original;
                        btn.style.backgroundColor = '';
                        btn.style.color = '';
                    }, 3000);
                }
            } catch (error) {
                console.log('Ø®Ø·Ø§ Ø¯Ø± Ù†Ù…Ø§ÛŒØ´ Ù…ÙˆÙÙ‚ÛŒØª:', error);
            }
        }

        // ØªØ³Øª Ø§ÙˆÙ„ÛŒÙ‡
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ” ØµÙØ­Ù‡ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯ - ØªØ³Øª Ø¹Ù†Ø§ØµØ±:');
            console.log('Ø¹Ù†ØµØ± Ù…Ø¨Ù„Øº:', document.querySelector('#irr-amount'));
            console.log('Ø¹Ù†ØµØ± Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª:', document.querySelector('#card-number'));
            console.log('Ù…ØªÙ† Ù…Ø¨Ù„Øº:', document.querySelector('#irr-amount')?.textContent);
            console.log('Ù…ØªÙ† Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª:', document.querySelector('#card-number')?.textContent);
        });
    </script>
</body>
</html>